var catContorn= [new L.LatLng( 41.07088, 1.94891 ), new L.LatLng( 41.07066, 1.94848 ), new L.LatLng( 41.07029, 1.94621 ), new L.LatLng( 41.06905, 1.94367 ), new L.LatLng( 41.06713, 1.93675 ), new L.LatLng( 41.05791, 1.87074 ), new L.LatLng( 41.05638, 1.86145 ), new L.LatLng( 41.05579, 1.85968 ), new L.LatLng( 41.05556, 1.85833 ), new L.LatLng( 41.05496, 1.85716 ), new L.LatLng( 41.05338, 1.84738 ), new L.LatLng( 41.04211, 1.82503 ), new L.LatLng( 41.03047, 1.75295 ), new L.LatLng( 41.03017, 1.75238 ), new L.LatLng( 41.02522, 1.72904 ), new L.LatLng( 41.02165, 1.71546 ), new L.LatLng( 41.02054, 1.71000 ), new L.LatLng( 41.01991, 1.70398 ), new L.LatLng( 41.01716, 1.69107 ), new L.LatLng( 41.01614, 1.68140 ), new L.LatLng( 41.01540, 1.66879 ), new L.LatLng( 41.00953, 1.64076 ), new L.LatLng( 41.00927, 1.63811 ), new L.LatLng( 41.00774, 1.61073 ), new L.LatLng( 41.00850, 1.60525 ), new L.LatLng( 41.00479, 1.59129 ), new L.LatLng( 41.00432, 1.58899 ), new L.LatLng( 41.00139, 1.56170 ), new L.LatLng( 41.00127, 1.56126 ), new L.LatLng( 40.99840, 1.55401 ), new L.LatLng( 40.99766, 1.55231 ), new L.LatLng( 40.99613, 1.54940 ), new L.LatLng( 40.99011, 1.54026 ), new L.LatLng( 40.98790, 1.53625 ), new L.LatLng( 40.98159, 1.52171 ), new L.LatLng( 40.96908, 1.49789 ), new L.LatLng( 40.95415, 1.40729 ), new L.LatLng( 40.95429, 1.40623 ), new L.LatLng( 40.95333, 1.40037 ), new L.LatLng( 40.95358, 1.39427 ), new L.LatLng( 40.95240, 1.38521 ), new L.LatLng( 40.95153, 1.37995 ), new L.LatLng( 40.93441, 1.34544 ), new L.LatLng( 40.93174, 1.34319 ), new L.LatLng( 40.89157, 1.26717 ), new L.LatLng( 40.88362, 1.21949 ), new L.LatLng( 40.88046, 1.20519 ), new L.LatLng( 40.87964, 1.19827 ), new L.LatLng( 40.87936, 1.19403 ), new L.LatLng( 40.87647, 1.17674 ), new L.LatLng( 40.88188, 1.11723 ), new L.LatLng( 40.86572, 1.10366 ), new L.LatLng( 40.86152, 1.09612 ), new L.LatLng( 40.84059, 1.06246 ), new L.LatLng( 40.81600, 1.08618 ), new L.LatLng( 40.80741, 1.09173 ), new L.LatLng( 40.80384, 1.09288 ), new L.LatLng( 40.80047, 1.09598 ), new L.LatLng( 40.75908, 1.11247 ), new L.LatLng( 40.75148, 1.11422 ), new L.LatLng( 40.72426, 1.11772 ), new L.LatLng( 40.66538, 1.10647 ), new L.LatLng( 40.64644, 1.09849 ), new L.LatLng( 40.64205, 1.09506 ), new L.LatLng( 40.63611, 1.09369 ), new L.LatLng( 40.59434, 1.06348 ), new L.LatLng( 40.58387, 1.05334 ), new L.LatLng( 40.56637, 1.03402 ), new L.LatLng( 40.55067, 1.01163 ), new L.LatLng( 40.53803, 0.99111 ), new L.LatLng( 40.52596, 0.96516 ), new L.LatLng( 40.51864, 0.95244 ), new L.LatLng( 40.50554, 0.91975 ), new L.LatLng( 40.49942, 0.91443 ), new L.LatLng( 40.49605, 0.51561 ), new L.LatLng( 40.50384, 0.47462 ), new L.LatLng( 40.52674, 0.41491 ), new L.LatLng( 40.54219, 0.40244 ), new L.LatLng( 40.56436, 0.39892 ), new L.LatLng( 40.57879, 0.37796 ), new L.LatLng( 40.58118, 0.33371 ), new L.LatLng( 40.59385, 0.33076 ), new L.LatLng( 40.59590, 0.31505 ), new L.LatLng( 40.60164, 0.30290 ), new L.LatLng( 40.59405, 0.29124 ), new L.LatLng( 40.60640, 0.26035 ), new L.LatLng( 40.62209, 0.24270 ), new L.LatLng( 40.63681, 0.23201 ), new L.LatLng( 40.64621, 0.23026 ), new L.LatLng( 40.67282, 0.23709 ), new L.LatLng( 40.68064, 0.21382 ), new L.LatLng( 40.69748, 0.20113 ), new L.LatLng( 40.70252, 0.16895 ), new L.LatLng( 40.71180, 0.14707 ), new L.LatLng( 40.71979, 0.13857 ), new L.LatLng( 40.74909, 0.12487 ), new L.LatLng( 40.76740, 0.13317 ), new L.LatLng( 40.77494, 0.14585 ), new L.LatLng( 40.78385, 0.18409 ), new L.LatLng( 40.79314, 0.20019 ), new L.LatLng( 40.80563, 0.20865 ), new L.LatLng( 40.82283, 0.23139 ), new L.LatLng( 40.84643, 0.21806 ), new L.LatLng( 40.86268, 0.21600 ), new L.LatLng( 40.87335, 0.20621 ), new L.LatLng( 40.87854, 0.20181 ), new L.LatLng( 40.86693, 0.17371 ), new L.LatLng( 40.86768, 0.15376 ), new L.LatLng( 40.87628, 0.13789 ), new L.LatLng( 40.89037, 0.12675 ), new L.LatLng( 40.93069, 0.12701 ), new L.LatLng( 40.93586, 0.14132 ), new L.LatLng( 40.93462, 0.22399 ), new L.LatLng( 40.96669, 0.24835 ), new L.LatLng( 41.00875, 0.22405 ), new L.LatLng( 41.02249, 0.19535 ), new L.LatLng( 41.03394, 0.18475 ), new L.LatLng( 41.06212, 0.18202 ), new L.LatLng( 41.07289, 0.16923 ), new L.LatLng( 41.08339, 0.16509 ), new L.LatLng( 41.13481, 0.16710 ), new L.LatLng( 41.15500, 0.18661 ), new L.LatLng( 41.16105, 0.19742 ), new L.LatLng( 41.16311, 0.22196 ), new L.LatLng( 41.17445, 0.23796 ), new L.LatLng( 41.17683, 0.26081 ), new L.LatLng( 41.18126, 0.26958 ), new L.LatLng( 41.22862, 0.28506 ), new L.LatLng( 41.23914, 0.29212 ), new L.LatLng( 41.24944, 0.30833 ), new L.LatLng( 41.25760, 0.34015 ), new L.LatLng( 41.27565, 0.34467 ), new L.LatLng( 41.29262, 0.33239 ), new L.LatLng( 41.30309, 0.32927 ), new L.LatLng( 41.31729, 0.31527 ), new L.LatLng( 41.37445, 0.29692 ), new L.LatLng( 41.38371, 0.28770 ), new L.LatLng( 41.39397, 0.28454 ), new L.LatLng( 41.41183, 0.29192 ), new L.LatLng( 41.42874, 0.31040 ), new L.LatLng( 41.43934, 0.30858 ), new L.LatLng( 41.44989, 0.31216 ), new L.LatLng( 41.47845, 0.30308 ), new L.LatLng( 41.48896, 0.30343 ), new L.LatLng( 41.50086, 0.31042 ), new L.LatLng( 41.50979, 0.32438 ), new L.LatLng( 41.51419, 0.34728 ), new L.LatLng( 41.51271, 0.37362 ), new L.LatLng( 41.52597, 0.38375 ), new L.LatLng( 41.53111, 0.41768 ), new L.LatLng( 41.53786, 0.42032 ), new L.LatLng( 41.54628, 0.41848 ), new L.LatLng( 41.55040, 0.41113 ), new L.LatLng( 41.54994, 0.40109 ), new L.LatLng( 41.56688, 0.39509 ), new L.LatLng( 41.57427, 0.33683 ), new L.LatLng( 41.57986, 0.32493 ), new L.LatLng( 41.58843, 0.31678 ), new L.LatLng( 41.62090, 0.31046 ), new L.LatLng( 41.63113, 0.31251 ), new L.LatLng( 41.65111, 0.29444 ), new L.LatLng( 41.66940, 0.28989 ), new L.LatLng( 41.69024, 0.29387 ), new L.LatLng( 41.71067, 0.31125 ), new L.LatLng( 41.71054, 0.28554 ), new L.LatLng( 41.72891, 0.28472 ), new L.LatLng( 41.73349, 0.29896 ), new L.LatLng( 41.73285, 0.32387 ), new L.LatLng( 41.72738, 0.33322 ), new L.LatLng( 41.73694, 0.33663 ), new L.LatLng( 41.77656, 0.37329 ), new L.LatLng( 41.78293, 0.38660 ), new L.LatLng( 41.79109, 0.43810 ), new L.LatLng( 41.81989, 0.45765 ), new L.LatLng( 41.84449, 0.49398 ), new L.LatLng( 41.84957, 0.51674 ), new L.LatLng( 41.86123, 0.52064 ), new L.LatLng( 41.87098, 0.56885 ), new L.LatLng( 41.89931, 0.59511 ), new L.LatLng( 41.91544, 0.59548 ), new L.LatLng( 41.92084, 0.57851 ), new L.LatLng( 41.92307, 0.53454 ), new L.LatLng( 41.93185, 0.52630 ), new L.LatLng( 41.94391, 0.52686 ), new L.LatLng( 41.96049, 0.53666 ), new L.LatLng( 41.98417, 0.55990 ), new L.LatLng( 41.99400, 0.58192 ), new L.LatLng( 42.00941, 0.59480 ), new L.LatLng( 42.01837, 0.61688 ), new L.LatLng( 42.03007, 0.61628 ), new L.LatLng( 42.04842, 0.62272 ), new L.LatLng( 42.06060, 0.63378 ), new L.LatLng( 42.10284, 0.65188 ), new L.LatLng( 42.11482, 0.66318 ), new L.LatLng( 42.13940, 0.65938 ), new L.LatLng( 42.18102, 0.66337 ), new L.LatLng( 42.21911, 0.67801 ), new L.LatLng( 42.23517, 0.68061 ), new L.LatLng( 42.26368, 0.70083 ), new L.LatLng( 42.28983, 0.70381 ), new L.LatLng( 42.31359, 0.71338 ), new L.LatLng( 42.33039, 0.70630 ), new L.LatLng( 42.34224, 0.70647 ), new L.LatLng( 42.35548, 0.69007 ), new L.LatLng( 42.37054, 0.68697 ), new L.LatLng( 42.36935, 0.58727 ), new L.LatLng( 42.36066, 0.55420 ), new L.LatLng( 42.36924, 0.48478 ), new L.LatLng( 42.42879, 0.48808 ), new L.LatLng( 42.45198, 0.52073 ), new L.LatLng( 42.45867, 0.65592 ), new L.LatLng( 42.47682, 0.65662 ), new L.LatLng( 42.49173, 0.65520 ), new L.LatLng( 42.50566, 0.66459 ), new L.LatLng( 42.51975, 0.68541 ), new L.LatLng( 42.53645, 0.68815 ), new L.LatLng( 42.55578, 0.70254 ), new L.LatLng( 42.56377, 0.71435 ), new L.LatLng( 42.58657, 0.72388 ), new L.LatLng( 42.60167, 0.68326 ), new L.LatLng( 42.60908, 0.67230 ), new L.LatLng( 42.61987, 0.66401 ), new L.LatLng( 42.61760, 0.59368 ), new L.LatLng( 42.62180, 0.58646 ), new L.LatLng( 42.64319, 0.58506 ), new L.LatLng( 42.65763, 0.58830 ), new L.LatLng( 42.66089, 0.61333 ), new L.LatLng( 42.66075, 0.64249 ), new L.LatLng( 42.67625, 0.62776 ), new L.LatLng( 42.69016, 0.62346 ), new L.LatLng( 42.70055, 0.62585 ), new L.LatLng( 42.71190, 0.63770 ), new L.LatLng( 42.72096, 0.63661 ), new L.LatLng( 42.72687, 0.63339 ), new L.LatLng( 42.73575, 0.61189 ), new L.LatLng( 42.75328, 0.60200 ), new L.LatLng( 42.76367, 0.60439 ), new L.LatLng( 42.77301, 0.61227 ), new L.LatLng( 42.78267, 0.60936 ), new L.LatLng( 42.79306, 0.61175 ), new L.LatLng( 42.81130, 0.62806 ), new L.LatLng( 42.83789, 0.62241 ), new L.LatLng( 42.85370, 0.62909 ), new L.LatLng( 42.87402, 0.65098 ), new L.LatLng( 42.88012, 0.66267 ), new L.LatLng( 42.88246, 0.68464 ), new L.LatLng( 42.88885, 0.70785 ), new L.LatLng( 42.88603, 0.73190 ), new L.LatLng( 42.86489, 0.78227 ), new L.LatLng( 42.86706, 0.80978 ), new L.LatLng( 42.86346, 0.82600 ), new L.LatLng( 42.85611, 0.84146 ), new L.LatLng( 42.85135, 0.87194 ), new L.LatLng( 42.82354, 0.92631 ), new L.LatLng( 42.83100, 0.94767 ), new L.LatLng( 42.83247, 0.96166 ), new L.LatLng( 42.82784, 0.98160 ), new L.LatLng( 42.81703, 0.99833 ), new L.LatLng( 42.81757, 1.01035 ), new L.LatLng( 42.81030, 1.05644 ), new L.LatLng( 42.81542, 1.07678 ), new L.LatLng( 42.81359, 1.09254 ), new L.LatLng( 42.77932, 1.14903 ), new L.LatLng( 42.76121, 1.16591 ), new L.LatLng( 42.74590, 1.16879 ), new L.LatLng( 42.74125, 1.17361 ), new L.LatLng( 42.75430, 1.22646 ), new L.LatLng( 42.75320, 1.24123 ), new L.LatLng( 42.74518, 1.26557 ), new L.LatLng( 42.74586, 1.30283 ), new L.LatLng( 42.75024, 1.31610 ), new L.LatLng( 42.75117, 1.33716 ), new L.LatLng( 42.74512, 1.37040 ), new L.LatLng( 42.73924, 1.38315 ), new L.LatLng( 42.73059, 1.39131 ), new L.LatLng( 42.71780, 1.39486 ), new L.LatLng( 42.70787, 1.41311 ), new L.LatLng( 42.69654, 1.42299 ), new L.LatLng( 42.70299, 1.48050 ), new L.LatLng( 42.69861, 1.52276 ), new L.LatLng( 42.69900, 1.55742 ), new L.LatLng( 42.69577, 1.56697 ), new L.LatLng( 42.67829, 1.56699 ), new L.LatLng( 42.67587, 1.47123 ), new L.LatLng( 42.66270, 1.47063 ), new L.LatLng( 42.66013, 1.44930 ), new L.LatLng( 42.64028, 1.45352 ), new L.LatLng( 42.60832, 1.47904 ), new L.LatLng( 42.58542, 1.47428 ), new L.LatLng( 42.57006, 1.48036 ), new L.LatLng( 42.55757, 1.47789 ), new L.LatLng( 42.51370, 1.50397 ), new L.LatLng( 42.50250, 1.50264 ), new L.LatLng( 42.49359, 1.49659 ), new L.LatLng( 42.48053, 1.47661 ), new L.LatLng( 42.46117, 1.48398 ), new L.LatLng( 42.45867, 1.52059 ), new L.LatLng( 42.46796, 1.52463 ), new L.LatLng( 42.47854, 1.53618 ), new L.LatLng( 42.48124, 1.56348 ), new L.LatLng( 42.48634, 1.56995 ), new L.LatLng( 42.48083, 1.57416 ), new L.LatLng( 42.47981, 1.58406 ), new L.LatLng( 42.48182, 1.62970 ), new L.LatLng( 42.48907, 1.63280 ), new L.LatLng( 42.49918, 1.64986 ), new L.LatLng( 42.50093, 1.65870 ), new L.LatLng( 42.51496, 1.65740 ), new L.LatLng( 42.52250, 1.64167 ), new L.LatLng( 42.53054, 1.65732 ), new L.LatLng( 42.53081, 1.68070 ), new L.LatLng( 42.52262, 1.69775 ), new L.LatLng( 42.52749, 1.70981 ), new L.LatLng( 42.52965, 1.72722 ), new L.LatLng( 42.52789, 1.73885 ), new L.LatLng( 42.52127, 1.75192 ), new L.LatLng( 42.51291, 1.78418 ), new L.LatLng( 42.51707, 1.80639 ), new L.LatLng( 42.51088, 1.83754 ), new L.LatLng( 42.50361, 1.85641 ), new L.LatLng( 42.49134, 1.87401 ), new L.LatLng( 42.48338, 1.89869 ), new L.LatLng( 42.47583, 1.91121 ), new L.LatLng( 42.47954, 1.92570 ), new L.LatLng( 42.49384, 1.93299 ), new L.LatLng( 42.51272, 1.95286 ), new L.LatLng( 42.51816, 1.96315 ), new L.LatLng( 42.52090, 1.98903 ), new L.LatLng( 42.51669, 2.00823 ), new L.LatLng( 42.49052, 2.03759 ), new L.LatLng( 42.48699, 2.05246 ), new L.LatLng( 42.47121, 2.05982 ), new L.LatLng( 42.46611, 2.04484 ), new L.LatLng( 42.44685, 2.04971 ), new L.LatLng( 42.42988, 2.03842 ), new L.LatLng( 42.42351, 2.02505 ), new L.LatLng( 42.41997, 1.99421 ), new L.LatLng( 42.39893, 1.99768 ), new L.LatLng( 42.40635, 2.00360 ), new L.LatLng( 42.40898, 2.01123 ), new L.LatLng( 42.40337, 2.08053 ), new L.LatLng( 42.43217, 2.10357 ), new L.LatLng( 42.44865, 2.14305 ), new L.LatLng( 42.45148, 2.16868 ), new L.LatLng( 42.44542, 2.19491 ), new L.LatLng( 42.45314, 2.22342 ), new L.LatLng( 42.46357, 2.24134 ), new L.LatLng( 42.46584, 2.25716 ), new L.LatLng( 42.45463, 2.29521 ), new L.LatLng( 42.45603, 2.30948 ), new L.LatLng( 42.45376, 2.32546 ), new L.LatLng( 42.44374, 2.34567 ), new L.LatLng( 42.43806, 2.36767 ), new L.LatLng( 42.44010, 2.38897 ), new L.LatLng( 42.43819, 2.38994 ), new L.LatLng( 42.44616, 2.40222 ), new L.LatLng( 42.43756, 2.41382 ), new L.LatLng( 42.43974, 2.44057 ), new L.LatLng( 42.43635, 2.45653 ), new L.LatLng( 42.43034, 2.45964 ), new L.LatLng( 42.41286, 2.45766 ), new L.LatLng( 42.40472, 2.46607 ), new L.LatLng( 42.39336, 2.47088 ), new L.LatLng( 42.37954, 2.49202 ), new L.LatLng( 42.37017, 2.50069 ), new L.LatLng( 42.36580, 2.52122 ), new L.LatLng( 42.37825, 2.53773 ), new L.LatLng( 42.38488, 2.56695 ), new L.LatLng( 42.38329, 2.59452 ), new L.LatLng( 42.37495, 2.61825 ), new L.LatLng( 42.38650, 2.61512 ), new L.LatLng( 42.39832, 2.61853 ), new L.LatLng( 42.42131, 2.64526 ), new L.LatLng( 42.43640, 2.63571 ), new L.LatLng( 42.45003, 2.63569 ), new L.LatLng( 42.45111, 2.64871 ), new L.LatLng( 42.44558, 2.66714 ), new L.LatLng( 42.44540, 2.68171 ), new L.LatLng( 42.44578, 2.69700 ), new L.LatLng( 42.45023, 2.69734 ), new L.LatLng( 42.45164, 2.70447 ), new L.LatLng( 42.44805, 2.71025 ), new L.LatLng( 42.45262, 2.75639 ), new L.LatLng( 42.44775, 2.77648 ), new L.LatLng( 42.46454, 2.80081 ), new L.LatLng( 42.47833, 2.81359 ), new L.LatLng( 42.48421, 2.82541 ), new L.LatLng( 42.48597, 2.84289 ), new L.LatLng( 42.49250, 2.85583 ), new L.LatLng( 42.49467, 2.87023 ), new L.LatLng( 42.48787, 2.90052 ), new L.LatLng( 42.50627, 2.93086 ), new L.LatLng( 42.50899, 2.94456 ), new L.LatLng( 42.50711, 2.96091 ), new L.LatLng( 42.49983, 2.97434 ), new L.LatLng( 42.50215, 2.98996 ), new L.LatLng( 42.49890, 3.01500 ), new L.LatLng( 42.50190, 3.03199 ), new L.LatLng( 42.49906, 3.05361 ), new L.LatLng( 42.48951, 3.07003 ), new L.LatLng( 42.46693, 3.08312 ), new L.LatLng( 42.45993, 3.09467 ), new L.LatLng( 42.46535, 3.12097 ), new L.LatLng( 42.46289, 3.29906 ), new L.LatLng( 42.43429, 3.36389 ), new L.LatLng( 42.39945, 3.40221 ), new L.LatLng( 42.35343, 3.43178 ), new L.LatLng( 41.89415, 3.43270 ), new L.LatLng( 41.87526, 3.43273 ), new L.LatLng( 41.83873, 3.42726 ), new L.LatLng( 41.81802, 3.42107 ), new L.LatLng( 41.81669, 3.42082 ), new L.LatLng( 41.81665, 3.42081 ), new L.LatLng( 41.81351, 3.41935 ), new L.LatLng( 41.81154, 3.41894 ), new L.LatLng( 41.81149, 3.41892 ), new L.LatLng( 41.80253, 3.41457 ), new L.LatLng( 41.80199, 3.41444 ), new L.LatLng( 41.80194, 3.41442 ), new L.LatLng( 41.80159, 3.41411 ), new L.LatLng( 41.79632, 3.41156 ), new L.LatLng( 41.79429, 3.41100 ), new L.LatLng( 41.78530, 3.40486 ), new L.LatLng( 41.78169, 3.40260 ), new L.LatLng( 41.78164, 3.40257 ), new L.LatLng( 41.78093, 3.40187 ), new L.LatLng( 41.77013, 3.39450 ), new L.LatLng( 41.77009, 3.39446 ), new L.LatLng( 41.75453, 3.37803 ), new L.LatLng( 41.74983, 3.37424 ), new L.LatLng( 41.74978, 3.37419 ), new L.LatLng( 41.74267, 3.36552 ), new L.LatLng( 41.73598, 3.35846 ), new L.LatLng( 41.73423, 3.35494 ), new L.LatLng( 41.72154, 3.33555 ), new L.LatLng( 41.72151, 3.33550 ), new L.LatLng( 41.71071, 3.31047 ), new L.LatLng( 41.70206, 3.29422 ), new L.LatLng( 41.70203, 3.29414 ), new L.LatLng( 41.70102, 3.28827 ), new L.LatLng( 41.70054, 3.28733 ), new L.LatLng( 41.70052, 3.28726 ), new L.LatLng( 41.70046, 3.28694 ), new L.LatLng( 41.69715, 3.28027 ), new L.LatLng( 41.69549, 3.27140 ), new L.LatLng( 41.69530, 3.27101 ), new L.LatLng( 41.69529, 3.27095 ), new L.LatLng( 41.69514, 3.26983 ), new L.LatLng( 41.69204, 3.25784 ), new L.LatLng( 41.69024, 3.25648 ), new L.LatLng( 41.68929, 3.25554 ), new L.LatLng( 41.67334, 3.24261 ), new L.LatLng( 41.67323, 3.24248 ), new L.LatLng( 41.66116, 3.22771 ), new L.LatLng( 41.66009, 3.22555 ), new L.LatLng( 41.65732, 3.22060 ), new L.LatLng( 41.65629, 3.21968 ), new L.LatLng( 41.65584, 3.21877 ), new L.LatLng( 41.65392, 3.21705 ), new L.LatLng( 41.63677, 3.18904 ), new L.LatLng( 41.63606, 3.18801 ), new L.LatLng( 41.63447, 3.18546 ), new L.LatLng( 41.63416, 3.18479 ), new L.LatLng( 41.63154, 3.18050 ), new L.LatLng( 41.63151, 3.18045 ), new L.LatLng( 41.63147, 3.18035 ), new L.LatLng( 41.63141, 3.18026 ), new L.LatLng( 41.63138, 3.18018 ), new L.LatLng( 41.62625, 3.16731 ), new L.LatLng( 41.62480, 3.16412 ), new L.LatLng( 41.61812, 3.15267 ), new L.LatLng( 41.61806, 3.15254 ), new L.LatLng( 41.61073, 3.13306 ), new L.LatLng( 41.60801, 3.12706 ), new L.LatLng( 41.60541, 3.12474 ), new L.LatLng( 41.60311, 3.12014 ), new L.LatLng( 41.59989, 3.11726 ), new L.LatLng( 41.59898, 3.11545 ), new L.LatLng( 41.59431, 3.11128 ), new L.LatLng( 41.59335, 3.10971 ), new L.LatLng( 41.59260, 3.10860 ), new L.LatLng( 41.58967, 3.10598 ), new L.LatLng( 41.58623, 3.09910 ), new L.LatLng( 41.58110, 3.09147 ), new L.LatLng( 41.58106, 3.09140 ), new L.LatLng( 41.57840, 3.08540 ), new L.LatLng( 41.57193, 3.07487 ), new L.LatLng( 41.57190, 3.07481 ), new L.LatLng( 41.56438, 3.05605 ), new L.LatLng( 41.56360, 3.05465 ), new L.LatLng( 41.56359, 3.05462 ), new L.LatLng( 41.56263, 3.05311 ), new L.LatLng( 41.56260, 3.05306 ), new L.LatLng( 41.55981, 3.04635 ), new L.LatLng( 41.55066, 3.02812 ), new L.LatLng( 41.55007, 3.02453 ), new L.LatLng( 41.54811, 3.02091 ), new L.LatLng( 41.54810, 3.02086 ), new L.LatLng( 41.54752, 3.01759 ), new L.LatLng( 41.54746, 3.01747 ), new L.LatLng( 41.54729, 3.01633 ), new L.LatLng( 41.54267, 3.00524 ), new L.LatLng( 41.54253, 3.00433 ), new L.LatLng( 41.53698, 2.98190 ), new L.LatLng( 41.53640, 2.98034 ), new L.LatLng( 41.53610, 2.97835 ), new L.LatLng( 41.53591, 2.97757 ), new L.LatLng( 41.53509, 2.97454 ), new L.LatLng( 41.53451, 2.97333 ), new L.LatLng( 41.53449, 2.97328 ), new L.LatLng( 41.53422, 2.97126 ), new L.LatLng( 41.53290, 2.96634 ), new L.LatLng( 41.53287, 2.96623 ), new L.LatLng( 41.53266, 2.96436 ), new L.LatLng( 41.53122, 2.95904 ), new L.LatLng( 41.53119, 2.95894 ), new L.LatLng( 41.53078, 2.95532 ), new L.LatLng( 41.52788, 2.95279 ), new L.LatLng( 41.52374, 2.94746 ), new L.LatLng( 41.52292, 2.94586 ), new L.LatLng( 41.52167, 2.94475 ), new L.LatLng( 41.48255, 2.86706 ), new L.LatLng( 41.47716, 2.83959 ), new L.LatLng( 41.47556, 2.83523 ), new L.LatLng( 41.46486, 2.81246 ), new L.LatLng( 41.46471, 2.81151 ), new L.LatLng( 41.46432, 2.81073 ), new L.LatLng( 41.44002, 2.73160 ), new L.LatLng( 41.43966, 2.72916 ), new L.LatLng( 41.43925, 2.72726 ), new L.LatLng( 41.43595, 2.71920 ), new L.LatLng( 41.43518, 2.71417 ), new L.LatLng( 41.42533, 2.68612 ), new L.LatLng( 41.42051, 2.67377 ), new L.LatLng( 41.41075, 2.65454 ), new L.LatLng( 41.40862, 2.64533 ), new L.LatLng( 41.40473, 2.63050 ), new L.LatLng( 41.39620, 2.60917 ), new L.LatLng( 41.39188, 2.60068 ), new L.LatLng( 41.39147, 2.59795 ), new L.LatLng( 41.39140, 2.59780 ), new L.LatLng( 41.39113, 2.59604 ), new L.LatLng( 41.37554, 2.56528 ), new L.LatLng( 41.37539, 2.56502 ), new L.LatLng( 41.35440, 2.52958 ), new L.LatLng( 41.34020, 2.49829 ), new L.LatLng( 41.33548, 2.48597 ), new L.LatLng( 41.32463, 2.46471 ), new L.LatLng( 41.32164, 2.45326 ), new L.LatLng( 41.31940, 2.44527 ), new L.LatLng( 41.31806, 2.43978 ), new L.LatLng( 41.31800, 2.43930 ), new L.LatLng( 41.31685, 2.43486 ), new L.LatLng( 41.31567, 2.42914 ), new L.LatLng( 41.31549, 2.42743 ), new L.LatLng( 41.30591, 2.42018 ), new L.LatLng( 41.29560, 2.40976 ), new L.LatLng( 41.28848, 2.40157 ), new L.LatLng( 41.26931, 2.39438 ), new L.LatLng( 41.21058, 2.34321 ), new L.LatLng( 41.20502, 2.33237 ), new L.LatLng( 41.17843, 2.30530 ), new L.LatLng( 41.17501, 2.29863 ), new L.LatLng( 41.17080, 2.29472 ), new L.LatLng( 41.15886, 2.27715 ), new L.LatLng( 41.13858, 2.23501 ), new L.LatLng( 41.12893, 2.21681 ), new L.LatLng( 41.11451, 2.17514 ), new L.LatLng( 41.11398, 2.17202 ), new L.LatLng( 41.11252, 2.16919 ), new L.LatLng( 41.10426, 2.13750 ), new L.LatLng( 41.09444, 2.08910 ), new L.LatLng( 41.09226, 2.06812 ), new L.LatLng( 41.08936, 2.05358 ), new L.LatLng( 41.08682, 2.02335 ), new L.LatLng( 41.08577, 2.00088 ), new L.LatLng( 41.08572, 2.00058 ), new L.LatLng( 41.08568, 1.99687 ), new L.LatLng( 41.08484, 1.99525 ), new L.LatLng( 41.08430, 1.99183 ), new L.LatLng( 41.07956, 1.97402 ), new L.LatLng( 41.07282, 1.96104 ), new L.LatLng( 41.07088, 1.94891 ) ];
var catContorn5k= [ new L.LatLng( 42.09360, 3.20674 ), new L.LatLng( 42.07406, 3.22457 ), new L.LatLng( 42.06212, 3.22768 ), new L.LatLng( 42.05299, 3.23920 ), new L.LatLng( 42.04368, 3.24213 ), new L.LatLng( 42.03702, 3.23826 ), new L.LatLng( 42.03400, 3.22791 ), new L.LatLng( 42.04381, 3.21041 ), new L.LatLng( 42.00509, 3.21105 ), new L.LatLng( 41.98528, 3.22157 ), new L.LatLng( 41.97466, 3.24404 ), new L.LatLng( 41.95904, 3.24792 ), new L.LatLng( 41.94878, 3.24574 ), new L.LatLng( 41.93804, 3.23337 ), new L.LatLng( 41.91704, 3.23194 ), new L.LatLng( 41.91195, 3.22500 ), new L.LatLng( 41.88994, 3.21519 ), new L.LatLng( 41.87850, 3.19473 ), new L.LatLng( 41.87313, 3.19270 ), new L.LatLng( 41.86400, 3.20086 ), new L.LatLng( 41.85738, 3.19728 ), new L.LatLng( 41.85246, 3.15852 ), new L.LatLng( 41.84512, 3.15457 ), new L.LatLng( 41.83506, 3.13636 ), new L.LatLng( 41.83717, 3.10777 ), new L.LatLng( 41.82731, 3.10263 ), new L.LatLng( 41.81549, 3.08290 ), new L.LatLng( 41.79902, 3.07889 ), new L.LatLng( 41.78238, 3.06646 ), new L.LatLng( 41.76437, 3.03590 ), new L.LatLng( 41.76549, 3.01705 ), new L.LatLng( 41.75865, 3.00855 ), new L.LatLng( 41.75465, 2.99316 ), new L.LatLng( 41.74692, 2.98019 ), new L.LatLng( 41.72648, 2.96344 ), new L.LatLng( 41.70876, 2.94079 ), new L.LatLng( 41.69446, 2.89291 ), new L.LatLng( 41.69204, 2.85659 ), new L.LatLng( 41.68288, 2.82980 ), new L.LatLng( 41.66874, 2.81319 ), new L.LatLng( 41.66427, 2.79914 ), new L.LatLng( 41.64957, 2.79125 ), new L.LatLng( 41.64053, 2.77943 ), new L.LatLng( 41.63599, 2.75154 ), new L.LatLng( 41.62279, 2.72472 ), new L.LatLng( 41.59318, 2.62619 ), new L.LatLng( 41.57705, 2.58029 ), new L.LatLng( 41.56857, 2.56649 ), new L.LatLng( 41.56839, 2.55195 ), new L.LatLng( 41.54966, 2.51253 ), new L.LatLng( 41.53787, 2.47135 ), new L.LatLng( 41.52166, 2.45413 ), new L.LatLng( 41.51957, 2.44176 ), new L.LatLng( 41.48230, 2.37632 ), new L.LatLng( 41.47529, 2.33876 ), new L.LatLng( 41.46707, 2.31798 ), new L.LatLng( 41.46742, 2.30801 ), new L.LatLng( 41.45380, 2.27564 ), new L.LatLng( 41.44020, 2.25986 ), new L.LatLng( 41.40951, 2.23938 ), new L.LatLng( 41.37454, 2.20377 ), new L.LatLng( 41.34954, 2.18780 ), new L.LatLng( 41.33056, 2.18145 ), new L.LatLng( 41.32883, 2.16783 ), new L.LatLng( 41.29836, 2.14355 ), new L.LatLng( 41.28452, 2.12243 ), new L.LatLng( 41.26996, 2.08039 ), new L.LatLng( 41.25971, 2.03029 ), new L.LatLng( 41.25523, 1.94026 ), new L.LatLng( 41.25005, 1.92881 ), new L.LatLng( 41.24897, 1.91359 ), new L.LatLng( 41.24215, 1.90608 ), new L.LatLng( 41.23763, 1.87985 ), new L.LatLng( 41.23010, 1.87180 ), new L.LatLng( 41.22720, 1.85466 ), new L.LatLng( 41.22877, 1.83673 ), new L.LatLng( 41.22488, 1.82537 ), new L.LatLng( 41.22723, 1.81703 ), new L.LatLng( 41.21729, 1.79443 ), new L.LatLng( 41.21061, 1.75072 ), new L.LatLng( 41.19929, 1.73551 ), new L.LatLng( 41.20297, 1.71736 ), new L.LatLng( 41.20066, 1.70051 ), new L.LatLng( 41.19071, 1.67876 ), new L.LatLng( 41.18663, 1.65963 ), new L.LatLng( 41.18308, 1.61919 ), new L.LatLng( 41.17892, 1.60849 ), new L.LatLng( 41.18126, 1.59887 ), new L.LatLng( 41.17558, 1.54459 ), new L.LatLng( 41.16945, 1.52967 ), new L.LatLng( 41.17079, 1.52006 ), new L.LatLng( 41.15893, 1.47166 ), new L.LatLng( 41.14837, 1.44502 ), new L.LatLng( 41.13653, 1.41792 ), new L.LatLng( 41.12599, 1.40770 ), new L.LatLng( 41.12649, 1.38149 ), new L.LatLng( 41.11759, 1.34533 ), new L.LatLng( 41.12097, 1.33530 ), new L.LatLng( 41.12060, 1.30241 ), new L.LatLng( 41.10678, 1.27633 ), new L.LatLng( 41.10531, 1.26505 ), new L.LatLng( 41.09462, 1.25268 ), new L.LatLng( 41.09416, 1.24509 ), new L.LatLng( 41.07722, 1.22682 ), new L.LatLng( 41.07897, 1.21380 ), new L.LatLng( 41.08969, 1.21067 ), new L.LatLng( 41.07330, 1.19429 ), new L.LatLng( 41.06042, 1.19179 ), new L.LatLng( 41.04829, 1.17656 ), new L.LatLng( 41.04923, 1.15747 ), new L.LatLng( 41.05824, 1.14995 ), new L.LatLng( 41.06717, 1.12583 ), new L.LatLng( 41.05443, 1.08500 ), new L.LatLng( 41.05775, 1.07301 ), new L.LatLng( 41.05275, 1.06176 ), new L.LatLng( 41.05558, 1.05297 ), new L.LatLng( 41.03674, 1.00961 ), new L.LatLng( 41.03299, 0.99080 ), new L.LatLng( 41.00546, 0.95438 ), new L.LatLng( 40.98394, 0.94058 ), new L.LatLng( 40.97947, 0.92133 ), new L.LatLng( 40.94762, 0.88502 ), new L.LatLng( 40.94231, 0.87293 ), new L.LatLng( 40.92181, 0.86045 ), new L.LatLng( 40.91493, 0.84897 ), new L.LatLng( 40.86211, 0.80175 ), new L.LatLng( 40.85191, 0.77852 ), new L.LatLng( 40.84217, 0.77239 ), new L.LatLng( 40.83494, 0.75609 ), new L.LatLng( 40.81905, 0.75103 ), new L.LatLng( 40.80086, 0.71480 ), new L.LatLng( 40.79470, 0.71897 ), new L.LatLng( 40.80193, 0.73174 ), new L.LatLng( 40.80432, 0.74769 ), new L.LatLng( 40.80060, 0.77713 ), new L.LatLng( 40.74344, 0.83708 ), new L.LatLng( 40.74472, 0.87796 ), new L.LatLng( 40.73140, 0.89009 ), new L.LatLng( 40.72037, 0.89288 ), new L.LatLng( 40.69796, 0.88417 ), new L.LatLng( 40.68451, 0.87157 ), new L.LatLng( 40.67009, 0.84798 ), new L.LatLng( 40.63604, 0.76675 ), new L.LatLng( 40.57591, 0.71162 ), new L.LatLng( 40.55356, 0.67506 ), new L.LatLng( 40.54601, 0.64224 ), new L.LatLng( 40.54682, 0.61277 ), new L.LatLng( 40.56480, 0.58808 ), new L.LatLng( 40.58296, 0.58407 ), new L.LatLng( 40.58796, 0.59029 ), new L.LatLng( 40.58789, 0.60619 ), new L.LatLng( 40.59387, 0.60945 ), new L.LatLng( 40.59668, 0.61770 ), new L.LatLng( 40.59272, 0.63194 ), new L.LatLng( 40.59578, 0.64803 ), new L.LatLng( 40.60237, 0.65949 ), new L.LatLng( 40.60395, 0.67325 ), new L.LatLng( 40.59972, 0.69247 ), new L.LatLng( 40.60196, 0.70517 ), new L.LatLng( 40.63160, 0.72935 ), new L.LatLng( 40.62923, 0.69592 ), new L.LatLng( 40.61578, 0.64520 ), new L.LatLng( 40.61543, 0.62068 ), new L.LatLng( 40.60261, 0.61044 ), new L.LatLng( 40.60436, 0.59722 ), new L.LatLng( 40.57779, 0.56736 ), new L.LatLng( 40.56700, 0.56602 ), new L.LatLng( 40.56204, 0.54885 ), new L.LatLng( 40.55050, 0.54629 ), new L.LatLng( 40.54087, 0.53437 ), new L.LatLng( 40.52150, 0.52691 ), new L.LatLng( 40.51649, 0.52071 ), new L.LatLng( 40.52273, 0.48359 ), new L.LatLng( 40.53509, 0.44508 ), new L.LatLng( 40.54771, 0.42645 ), new L.LatLng( 40.56735, 0.42286 ), new L.LatLng( 40.57378, 0.42605 ), new L.LatLng( 40.59025, 0.39791 ), new L.LatLng( 40.59602, 0.39436 ), new L.LatLng( 40.59960, 0.38545 ), new L.LatLng( 40.60211, 0.33399 ), new L.LatLng( 40.60729, 0.31242 ), new L.LatLng( 40.62536, 0.27177 ), new L.LatLng( 40.64685, 0.25460 ), new L.LatLng( 40.66597, 0.25892 ), new L.LatLng( 40.68580, 0.27749 ), new L.LatLng( 40.69647, 0.26360 ), new L.LatLng( 40.69824, 0.25717 ), new L.LatLng( 40.69339, 0.23800 ), new L.LatLng( 40.69981, 0.22696 ), new L.LatLng( 40.72225, 0.21555 ), new L.LatLng( 40.71756, 0.19412 ), new L.LatLng( 40.73084, 0.16039 ), new L.LatLng( 40.74863, 0.14967 ), new L.LatLng( 40.75850, 0.15182 ), new L.LatLng( 40.76587, 0.18769 ), new L.LatLng( 40.77782, 0.20780 ), new L.LatLng( 40.77762, 0.22043 ), new L.LatLng( 40.79465, 0.22644 ), new L.LatLng( 40.80930, 0.25089 ), new L.LatLng( 40.82391, 0.26299 ), new L.LatLng( 40.83664, 0.25003 ), new L.LatLng( 40.85386, 0.24123 ), new L.LatLng( 40.87265, 0.24283 ), new L.LatLng( 40.87741, 0.23327 ), new L.LatLng( 40.88602, 0.22801 ), new L.LatLng( 40.90075, 0.23891 ), new L.LatLng( 40.91432, 0.23825 ), new L.LatLng( 40.92652, 0.24509 ), new L.LatLng( 40.93621, 0.25315 ), new L.LatLng( 40.93919, 0.26218 ), new L.LatLng( 40.95001, 0.26160 ), new L.LatLng( 40.96403, 0.27387 ), new L.LatLng( 40.98391, 0.27103 ), new L.LatLng( 40.99616, 0.25870 ), new L.LatLng( 41.00419, 0.25869 ), new L.LatLng( 41.01132, 0.24942 ), new L.LatLng( 41.02412, 0.25113 ), new L.LatLng( 41.02762, 0.24570 ), new L.LatLng( 41.02832, 0.22896 ), new L.LatLng( 41.04306, 0.20727 ), new L.LatLng( 41.05683, 0.21183 ), new L.LatLng( 41.07310, 0.20756 ), new L.LatLng( 41.08022, 0.19360 ), new L.LatLng( 41.08650, 0.18985 ), new L.LatLng( 41.10406, 0.18966 ), new L.LatLng( 41.11656, 0.19680 ), new L.LatLng( 41.12189, 0.19121 ), new L.LatLng( 41.13162, 0.19093 ), new L.LatLng( 41.14761, 0.21101 ), new L.LatLng( 41.14118, 0.24018 ), new L.LatLng( 41.15796, 0.24558 ), new L.LatLng( 41.15990, 0.26798 ), new L.LatLng( 41.17058, 0.28992 ), new L.LatLng( 41.23151, 0.31367 ), new L.LatLng( 41.24125, 0.33887 ), new L.LatLng( 41.23865, 0.35419 ), new L.LatLng( 41.24967, 0.36288 ), new L.LatLng( 41.27971, 0.37290 ), new L.LatLng( 41.30183, 0.35477 ), new L.LatLng( 41.31432, 0.35811 ), new L.LatLng( 41.32077, 0.34368 ), new L.LatLng( 41.33083, 0.33738 ), new L.LatLng( 41.34902, 0.35145 ), new L.LatLng( 41.35323, 0.36191 ), new L.LatLng( 41.36703, 0.35112 ), new L.LatLng( 41.39002, 0.31296 ), new L.LatLng( 41.39630, 0.30920 ), new L.LatLng( 41.42945, 0.33790 ), new L.LatLng( 41.43840, 0.33400 ), new L.LatLng( 41.45151, 0.34232 ), new L.LatLng( 41.46568, 0.33091 ), new L.LatLng( 41.48611, 0.32846 ), new L.LatLng( 41.49707, 0.34590 ), new L.LatLng( 41.49590, 0.37623 ), new L.LatLng( 41.49919, 0.39010 ), new L.LatLng( 41.54705, 0.43326 ), new L.LatLng( 41.56682, 0.41882 ), new L.LatLng( 41.59177, 0.42358 ), new L.LatLng( 41.58538, 0.40377 ), new L.LatLng( 41.59218, 0.34641 ), new L.LatLng( 41.59690, 0.33972 ), new L.LatLng( 41.62374, 0.33542 ), new L.LatLng( 41.63240, 0.34090 ), new L.LatLng( 41.65498, 0.32553 ), new L.LatLng( 41.66067, 0.31645 ), new L.LatLng( 41.67944, 0.31559 ), new L.LatLng( 41.70398, 0.33391 ), new L.LatLng( 41.72001, 0.35788 ), new L.LatLng( 41.73246, 0.36146 ), new L.LatLng( 41.74759, 0.37759 ), new L.LatLng( 41.75028, 0.38709 ), new L.LatLng( 41.76561, 0.39112 ), new L.LatLng( 41.77589, 0.44835 ), new L.LatLng( 41.77496, 0.45981 ), new L.LatLng( 41.79347, 0.46392 ), new L.LatLng( 41.80913, 0.47511 ), new L.LatLng( 41.81574, 0.49087 ), new L.LatLng( 41.83228, 0.51136 ), new L.LatLng( 41.83195, 0.53838 ), new L.LatLng( 41.86176, 0.54823 ), new L.LatLng( 41.86345, 0.56953 ), new L.LatLng( 41.87089, 0.57264 ), new L.LatLng( 41.87770, 0.59028 ), new L.LatLng( 41.88625, 0.58181 ), new L.LatLng( 41.90954, 0.58869 ), new L.LatLng( 41.92042, 0.58447 ), new L.LatLng( 41.92799, 0.55558 ), new L.LatLng( 41.94363, 0.55082 ), new L.LatLng( 41.97454, 0.57930 ), new L.LatLng( 41.97832, 0.59981 ), new L.LatLng( 41.99906, 0.61494 ), new L.LatLng( 42.00912, 0.64862 ), new L.LatLng( 42.02807, 0.64092 ), new L.LatLng( 42.04524, 0.64646 ), new L.LatLng( 42.05141, 0.65848 ), new L.LatLng( 42.06482, 0.65929 ), new L.LatLng( 42.08284, 0.67097 ), new L.LatLng( 42.09325, 0.67249 ), new L.LatLng( 42.11030, 0.68865 ), new L.LatLng( 42.15365, 0.68450 ), new L.LatLng( 42.16443, 0.69343 ), new L.LatLng( 42.17365, 0.68633 ), new L.LatLng( 42.19438, 0.69189 ), new L.LatLng( 42.20123, 0.69793 ), new L.LatLng( 42.22927, 0.70416 ), new L.LatLng( 42.25639, 0.72409 ), new L.LatLng( 42.28722, 0.72750 ), new L.LatLng( 42.30599, 0.73449 ), new L.LatLng( 42.31924, 0.74570 ), new L.LatLng( 42.32453, 0.73379 ), new L.LatLng( 42.33830, 0.72936 ), new L.LatLng( 42.35095, 0.74119 ), new L.LatLng( 42.36536, 0.71273 ), new L.LatLng( 42.37427, 0.71396 ), new L.LatLng( 42.38690, 0.73249 ), new L.LatLng( 42.39479, 0.72867 ), new L.LatLng( 42.40343, 0.71644 ), new L.LatLng( 42.41032, 0.71619 ), new L.LatLng( 42.41632, 0.72205 ), new L.LatLng( 42.43398, 0.70071 ), new L.LatLng( 42.46187, 0.69702 ), new L.LatLng( 42.47138, 0.68732 ), new L.LatLng( 42.48860, 0.67998 ), new L.LatLng( 42.50582, 0.69660 ), new L.LatLng( 42.50238, 0.71477 ), new L.LatLng( 42.50596, 0.71943 ), new L.LatLng( 42.51105, 0.71024 ), new L.LatLng( 42.52982, 0.71070 ), new L.LatLng( 42.54188, 0.71838 ), new L.LatLng( 42.54916, 0.73057 ), new L.LatLng( 42.57411, 0.74708 ), new L.LatLng( 42.60503, 0.75359 ), new L.LatLng( 42.60572, 0.73483 ), new L.LatLng( 42.61438, 0.70478 ), new L.LatLng( 42.62724, 0.68836 ), new L.LatLng( 42.64253, 0.68969 ), new L.LatLng( 42.65396, 0.68455 ), new L.LatLng( 42.66639, 0.66836 ), new L.LatLng( 42.68984, 0.64898 ), new L.LatLng( 42.69894, 0.65224 ), new L.LatLng( 42.70229, 0.66330 ), new L.LatLng( 42.71025, 0.66770 ), new L.LatLng( 42.72051, 0.66184 ), new L.LatLng( 42.72574, 0.66389 ), new L.LatLng( 42.74445, 0.65191 ), new L.LatLng( 42.74842, 0.63486 ), new L.LatLng( 42.75620, 0.62816 ), new L.LatLng( 42.77426, 0.64391 ), new L.LatLng( 42.78136, 0.63545 ), new L.LatLng( 42.78825, 0.63519 ), new L.LatLng( 42.80861, 0.65697 ), new L.LatLng( 42.81591, 0.65377 ), new L.LatLng( 42.82284, 0.65688 ), new L.LatLng( 42.82890, 0.65083 ), new L.LatLng( 42.84243, 0.64864 ), new L.LatLng( 42.85515, 0.66691 ), new L.LatLng( 42.86526, 0.67388 ), new L.LatLng( 42.86601, 0.69007 ), new L.LatLng( 42.87231, 0.70992 ), new L.LatLng( 42.86414, 0.74128 ), new L.LatLng( 42.85761, 0.74795 ), new L.LatLng( 42.84704, 0.78101 ), new L.LatLng( 42.85103, 0.80590 ), new L.LatLng( 42.83948, 0.83725 ), new L.LatLng( 42.83716, 0.86111 ), new L.LatLng( 42.80194, 0.92806 ), new L.LatLng( 42.81142, 0.94220 ), new L.LatLng( 42.81679, 0.96063 ), new L.LatLng( 42.81201, 0.97540 ), new L.LatLng( 42.79781, 0.99120 ), new L.LatLng( 42.80166, 1.00662 ), new L.LatLng( 42.79347, 1.05611 ), new L.LatLng( 42.79865, 1.08417 ), new L.LatLng( 42.78666, 1.09708 ), new L.LatLng( 42.77995, 1.11813 ), new L.LatLng( 42.76219, 1.13971 ), new L.LatLng( 42.75233, 1.14598 ), new L.LatLng( 42.74611, 1.14340 ), new L.LatLng( 42.73456, 1.14769 ), new L.LatLng( 42.72052, 1.16989 ), new L.LatLng( 42.73859, 1.22983 ), new L.LatLng( 42.73293, 1.25254 ), new L.LatLng( 42.72692, 1.26114 ), new L.LatLng( 42.72879, 1.30980 ), new L.LatLng( 42.73550, 1.33292 ), new L.LatLng( 42.72970, 1.34728 ), new L.LatLng( 42.72783, 1.36703 ), new L.LatLng( 42.71689, 1.37084 ), new L.LatLng( 42.70851, 1.36548 ), new L.LatLng( 42.70549, 1.38234 ), new L.LatLng( 42.69288, 1.40095 ), new L.LatLng( 42.67869, 1.40169 ), new L.LatLng( 42.66081, 1.42595 ), new L.LatLng( 42.63176, 1.43302 ), new L.LatLng( 42.62623, 1.44041 ), new L.LatLng( 42.61430, 1.44428 ), new L.LatLng( 42.60745, 1.45520 ), new L.LatLng( 42.59272, 1.45266 ), new L.LatLng( 42.58413, 1.44224 ), new L.LatLng( 42.57741, 1.45539 ), new L.LatLng( 42.56624, 1.45674 ), new L.LatLng( 42.55413, 1.43783 ), new L.LatLng( 42.54819, 1.46053 ), new L.LatLng( 42.51208, 1.48135 ), new L.LatLng( 42.50489, 1.47679 ), new L.LatLng( 42.48800, 1.44533 ), new L.LatLng( 42.48126, 1.45345 ), new L.LatLng( 42.47020, 1.45403 ), new L.LatLng( 42.46559, 1.45962 ), new L.LatLng( 42.44657, 1.45959 ), new L.LatLng( 42.43988, 1.51665 ), new L.LatLng( 42.44465, 1.54190 ), new L.LatLng( 42.45946, 1.54589 ), new L.LatLng( 42.46872, 1.55684 ), new L.LatLng( 42.46709, 1.57680 ), new L.LatLng( 42.47907, 1.60018 ), new L.LatLng( 42.47540, 1.61000 ), new L.LatLng( 42.47882, 1.64986 ), new L.LatLng( 42.49768, 1.65189 ), new L.LatLng( 42.51323, 1.66193 ), new L.LatLng( 42.51597, 1.67048 ), new L.LatLng( 42.51343, 1.67914 ), new L.LatLng( 42.50585, 1.68553 ), new L.LatLng( 42.50291, 1.70332 ), new L.LatLng( 42.51167, 1.71499 ), new L.LatLng( 42.51398, 1.72658 ), new L.LatLng( 42.51143, 1.73524 ), new L.LatLng( 42.50488, 1.73976 ), new L.LatLng( 42.50542, 1.75283 ), new L.LatLng( 42.49902, 1.76789 ), new L.LatLng( 42.49654, 1.79053 ), new L.LatLng( 42.50095, 1.80481 ), new L.LatLng( 42.49581, 1.81845 ), new L.LatLng( 42.49598, 1.82962 ), new L.LatLng( 42.48456, 1.85384 ), new L.LatLng( 42.47589, 1.85901 ), new L.LatLng( 42.46924, 1.88794 ), new L.LatLng( 42.46086, 1.89534 ), new L.LatLng( 42.45817, 1.91577 ), new L.LatLng( 42.46525, 1.93232 ), new L.LatLng( 42.46278, 1.94569 ), new L.LatLng( 42.48389, 1.95276 ), new L.LatLng( 42.49376, 1.96625 ), new L.LatLng( 42.50307, 1.97144 ), new L.LatLng( 42.50567, 1.98214 ), new L.LatLng( 42.50201, 1.99857 ), new L.LatLng( 42.49064, 2.01067 ), new L.LatLng( 42.48375, 2.01078 ), new L.LatLng( 42.47486, 2.00085 ), new L.LatLng( 42.46311, 2.02098 ), new L.LatLng( 42.45073, 2.02651 ), new L.LatLng( 42.44260, 2.01853 ), new L.LatLng( 42.44002, 2.00404 ), new L.LatLng( 42.44019, 1.98120 ), new L.LatLng( 42.44764, 1.95567 ), new L.LatLng( 42.43742, 1.95518 ), new L.LatLng( 42.42972, 1.97061 ), new L.LatLng( 42.41422, 1.96924 ), new L.LatLng( 42.38627, 1.97804 ), new L.LatLng( 42.37102, 1.99616 ), new L.LatLng( 42.36366, 2.01379 ), new L.LatLng( 42.36875, 2.03201 ), new L.LatLng( 42.36936, 2.05742 ), new L.LatLng( 42.37596, 2.06896 ), new L.LatLng( 42.37638, 2.07792 ), new L.LatLng( 42.38194, 2.08151 ), new L.LatLng( 42.39026, 2.10358 ), new L.LatLng( 42.39988, 2.10477 ), new L.LatLng( 42.42195, 2.12300 ), new L.LatLng( 42.43391, 2.15369 ), new L.LatLng( 42.43536, 2.16846 ), new L.LatLng( 42.42889, 2.18536 ), new L.LatLng( 42.42817, 2.20233 ), new L.LatLng( 42.43609, 2.22114 ), new L.LatLng( 42.43840, 2.23852 ), new L.LatLng( 42.44966, 2.25765 ), new L.LatLng( 42.43506, 2.29629 ), new L.LatLng( 42.43912, 2.30292 ), new L.LatLng( 42.43862, 2.31834 ), new L.LatLng( 42.42714, 2.33283 ), new L.LatLng( 42.42508, 2.35353 ), new L.LatLng( 42.41553, 2.35878 ), new L.LatLng( 42.41292, 2.36692 ), new L.LatLng( 42.41057, 2.39162 ), new L.LatLng( 42.40271, 2.41456 ), new L.LatLng( 42.40366, 2.43776 ), new L.LatLng( 42.39525, 2.44707 ), new L.LatLng( 42.38267, 2.44720 ), new L.LatLng( 42.37730, 2.46474 ), new L.LatLng( 42.35186, 2.48815 ), new L.LatLng( 42.35339, 2.50555 ), new L.LatLng( 42.34402, 2.53286 ), new L.LatLng( 42.34937, 2.54189 ), new L.LatLng( 42.36235, 2.54643 ), new L.LatLng( 42.36904, 2.57198 ), new L.LatLng( 42.36693, 2.59359 ), new L.LatLng( 42.35742, 2.61493 ), new L.LatLng( 42.35168, 2.66448 ), new L.LatLng( 42.36411, 2.65121 ), new L.LatLng( 42.37318, 2.65136 ), new L.LatLng( 42.38840, 2.64054 ), new L.LatLng( 42.39878, 2.65000 ), new L.LatLng( 42.39820, 2.66172 ), new L.LatLng( 42.40698, 2.66119 ), new L.LatLng( 42.41405, 2.66915 ), new L.LatLng( 42.41712, 2.68755 ), new L.LatLng( 42.43101, 2.71296 ), new L.LatLng( 42.43536, 2.73356 ), new L.LatLng( 42.43572, 2.76224 ), new L.LatLng( 42.42422, 2.77339 ), new L.LatLng( 42.42885, 2.79070 ), new L.LatLng( 42.44099, 2.79675 ), new L.LatLng( 42.45031, 2.81304 ), new L.LatLng( 42.45065, 2.82135 ), new L.LatLng( 42.45948, 2.82458 ), new L.LatLng( 42.46940, 2.83590 ), new L.LatLng( 42.46750, 2.85274 ), new L.LatLng( 42.47847, 2.87140 ), new L.LatLng( 42.46749, 2.91425 ), new L.LatLng( 42.48108, 2.92319 ), new L.LatLng( 42.49229, 2.94343 ), new L.LatLng( 42.49229, 2.95274 ), new L.LatLng( 42.47813, 2.97384 ), new L.LatLng( 42.48530, 2.99001 ), new L.LatLng( 42.47993, 3.01370 ), new L.LatLng( 42.48558, 3.03232 ), new L.LatLng( 42.48424, 3.04542 ), new L.LatLng( 42.45667, 3.06536 ), new L.LatLng( 42.43623, 3.09143 ), new L.LatLng( 42.44486, 3.10477 ), new L.LatLng( 42.44881, 3.12074 ), new L.LatLng( 42.44471, 3.14632 ), new L.LatLng( 42.44552, 3.18039 ), new L.LatLng( 42.43680, 3.18860 ), new L.LatLng( 42.41476, 3.18332 ), new L.LatLng( 42.40863, 3.17736 ), new L.LatLng( 42.39073, 3.18107 ), new L.LatLng( 42.38223, 3.17498 ), new L.LatLng( 42.36530, 3.18167 ), new L.LatLng( 42.35725, 3.20011 ), new L.LatLng( 42.36240, 3.23048 ), new L.LatLng( 42.36052, 3.24053 ), new L.LatLng( 42.35717, 3.24796 ), new L.LatLng( 42.34815, 3.25260 ), new L.LatLng( 42.35058, 3.27351 ), new L.LatLng( 42.33019, 3.33835 ), new L.LatLng( 42.32232, 3.34579 ), new L.LatLng( 42.31401, 3.34092 ), new L.LatLng( 42.30439, 3.31390 ), new L.LatLng( 42.29693, 3.32216 ), new L.LatLng( 42.28874, 3.32226 ), new L.LatLng( 42.27394, 3.30024 ), new L.LatLng( 42.25216, 3.29385 ), new L.LatLng( 42.24560, 3.27963 ), new L.LatLng( 42.23110, 3.27085 ), new L.LatLng( 42.23061, 3.25809 ), new L.LatLng( 42.23767, 3.24049 ), new L.LatLng( 42.22709, 3.22677 ), new L.LatLng( 42.22585, 3.21460 ), new L.LatLng( 42.24077, 3.17513 ), new L.LatLng( 42.25582, 3.16364 ), new L.LatLng( 42.24691, 3.14951 ), new L.LatLng( 42.22740, 3.13309 ), new L.LatLng( 42.20274, 3.12392 ), new L.LatLng( 42.14981, 3.12989 ), new L.LatLng( 42.13915, 3.13706 ), new L.LatLng( 42.13189, 3.14843 ), new L.LatLng( 42.11976, 3.18648 ), new L.LatLng( 42.09360, 3.20674 ) ];

var CatBounds = L.latLngBounds(L.latLng(40.47, 0.1087), L.latLng(42.8855, 3.33669));

//var CatBounds = L.latLngBounds(L.latLng(40.47, 0.77), L.latLng(42.45, 3.33669));

var MQ_ATTR='Font:<a  href="http://open.mapquest.co.uk" target="_blank">MapQuest</a>';  
var ESRI_ATTR='Tiles © Esri  Sources: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping,Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community';
var ESRI_ATTR_TERRAIN="Tiles © Esri Sources: Esri, USGS, NOAA";
var ICGC='Font:<a  href="http://www.icc.cat" target="_blank">Institut Cartogràfic i Geològic de Catalunya</a> - <a  href="http://www.icc.cat/cat/Home-ICC/Transparencia/Reutilitzacio-de-la-informacio/Condicions-d-us-de-la-geoinformacio-ICGC" target="_blank">CC-BY</a>'; 
var ICGC_MON='Font:Mapa del Món (<a  href="http://www.icc.cat" target="_blank">ICGC</a> - <a  href="http://www.icc.cat/cat/Home-ICC/Transparencia/Reutilitzacio-de-la-informacio/Condicions-d-us-de-la-geoinformacio-ICGC" target="_blank">CC-BY</a>)'; 
var ICGC_HISTO='Font:Mapa de Catalunya 1936 (<a  href="http://www.icc.cat" target="_blank">ICGC</a> - <a  href="http://www.icc.cat/cat/Home-ICC/Transparencia/Reutilitzacio-de-la-informacio/Condicions-d-us-de-la-geoinformacio-ICGC" target="_blank">CC-BY</a>)'; 
var ICGC_HISTOOrto='Font: Vol americà 1956-57 Ministerio de Defensa';
var _topoLayers=null,TOPO_ICC_L0_6,TOPO_MQ_L7_19,TOPO_ICC_L7_10,TOPO_ICC_L11_12,TOPO_ICC_L12_19;
var _topoLayersGeo=null,TOPO_GEO_MQ_L7_19,TOPO_ICC_L0_6_GEO,TOPO_GEO_ICC_L8_12,TOPO_GEO_OMBRA_L8_12,TOPO_GEO_ICC_L8_17;
var _ortoLayers=null,ORTO_ESRI_L0_19,ORTO_ICC_L0_11,ORTO_ICC_L12_19;
var _histoMap=null;
var _histoOrtoMap=null;
var ESRI_RELLEU_L0_13;			 
var ICC_RELLEU_L0_14;
var MQ_TOPO_GRIS_L7_19,ICC_TOPO_GRIS_L7_10,ICC_TOPO_GRIS_L11_19,ICC_MON_L0;
var COLOR_TOPO_ICC_L0_6,COLOR_TOPO_MQ_L7_19,COLOR_TOPO_ICC_L11_19;
var HISTO_ICC_L0_14;
var HISTOOrto_ICC_L0_14;

var _terrainLayers=null;
var _topoColorLayers=null;
var _grisLayers=null;
var _ombraLayer=null;

var subDomains=['otile1','otile2','otile3','otile4'];
var subDomainsA=['a','b','c'];

var urlServerTiles="http://www.instamaps.cat"
var urlApp=document.location.href;

if((urlApp.indexOf('localhost')!=-1)||(urlApp.indexOf('.local')!=-1)||(urlApp.indexOf('172.70.1.11')!=-1)){
	urlServerTiles="http://172.70.1.11"
}

var URL_MQ='http://{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png';
var URL_ESRI='http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';
var URL_ESRI_T='http://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}';
var URL_MON=urlServerTiles+'/mapcache/tms/1.0.0/mon3857@GM8/{z}/{x}/{y}.jpeg';
var URL_TOPOICC='http://mapcache.icc.cat/map/bases_noutm/wmts/topo/GRID3857/{z}/{x}/{y}.jpeg';
var URL_ORTOICC="http://mapcache.icc.cat/map/bases_noutm/wmts/orto/GRID3857/{z}/{x}/{y}.jpeg";
var URL_TOPOGRIS='http://mapcache.icc.cat/map/bases_noutm/wmts/topogris/GRID3857/{z}/{x}/{y}.jpeg';


//var URL_TOPOCOLOR='http://mapcache.icc.cat/map/bases_noutm/wmts/topo/GRID3857/{z}/{x}/{y}.jpeg';
var URL_TOPOCOLOR=urlServerTiles+'/mapcache/tms/1.0.0/A250TARJ3857@GMTOT/{z}/{x}/{y}.png';

var URL_HISTORIC=urlServerTiles+'/mapcache/tms/1.0.0/cat1936_3857@GM14/{z}/{x}/{y}.png';

//var URL_HISTORIC='https://stamen-tiles-a.a.ssl.fastly.net/toner/{z}/{x}/{y}.png';

var URL_HISTORICOrto='http://historics.icc.cat/lizardtech/iserv/ows?';


var URL_MQ_GEO='http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png';
var URL_TOPOICC_GEO_1=urlServerTiles+'/mapcache/tms/1.0.0/A250TARJ3857@GMTOT/{z}/{x}/{y}.png';
///var URL_TOPOICC_GEO_2=urlServerTiles+'/mapcache/tms/1.0.0/A250TARJ3857@GMTOT/{z}/{x}/{y}.png';
//var URL_TOPOICC_GEO_2=urlServerTiles+'/mapcache/tms/1.0.0/A2503857@GMTOT/{z}/{x}/{y}.png';

//var URL_TERRAIN='http://www.instamaps.cat/mapcache/tms/1.0.0/relleu3857@GM14/{z}/{x}/{y}.png';

var URL_TERRAIN=urlServerTiles+'/mapcache/tms/1.0.0/ombra3857@GMTOT/{z}/{x}/{y}.jpeg';

var URL_OMBRA=urlServerTiles+'/mapcache/tms/1.0.0/ombra3857@GMTOT/{z}/{x}/{y}.jpeg';

var FONS_TOPOMAP='topoMap';
var FONS_TOPOMAP_GEO='topoMapGeo';
var FONS_ORTOMAP='ortoMap';
var FONS_TOPOGISMAP='topoGrisMap';
var FONS_COLORMAP='colorMap';
var FONS_TERRAINMAP='terrainMap';
var FONS_HISTORICMAP='historicMap';
var FONS_HISTORICORTOMAP='historicOrtoMap';
	
var TOPO_OMBRA_L11_19= new L.TileLayer(URL_OMBRA,			  {  	    
	  tms:true,
	  minZoom: 11,
	  maxZoom: 19,	                                                        
	  continuousWorld: true,
	  worldCopyJump: false
	  });

L.IM_Map = L.Map.extend({

	options: {
		typeMap:FONS_TOPOMAP,
		mapColor: ''	
	},

	initialize: function(id,options) {
		L.Map.prototype.initialize.call(this,id,options);
		L.Util.setOptions(this, options);
		   
		this.activeMap=this.options.typeMap;
	    
		if(this.options.typeMap==FONS_TOPOMAP){this.topoMap();		
		}else if(this.options.typeMap==FONS_ORTOMAP){this.ortoMap();
		}else if(this.options.typeMap==FONS_TOPOMAP_GEO){this.topoMapGeo();
		}else if(this.options.typeMap==FONS_TERRAINMAP){this.terrainMap();
		}else if(this.options.typeMap==FONS_TOPOGISMAP){this.topoGrisMap();
		}else if(this.options.typeMap==FONS_COLORMAP){this.colorMap();
		}else if(this.options.typeMap==FONS_HISTORICMAP){this.historicMap();
		}else if(this.options.typeMap==FONS_HISTORICORTOMAP){this.historicOrtoMap();
		}else{
		this.activeMap=FONS_TOPOMAP;this.topoMap();
		}
		/*
		this.on('moveend', function(){				
			this.gestionaFons(false);
		});
		*/
		
		this.on('moveend', function(){				
			this.gestionaFons(false);
		});
		/*
		this.on('viewreset', function(){				
			this.gestionaFons(false);
		});
		*/
		this.on('layeradd', function(){				
			this.gestionaFons(true);
		});
	},
	
	getActiveMap:function(){
		return this.options.typeMap;	
	},
	
	setActiveMap:function(typeMap){
		this.options.typeMap = typeMap;	
	},
	
	getMapColor:function(){

		return this.options.mapColor;	
	},
	
	setMapColor:function(mapColor){
		this.options.mapColor = mapColor;	

	},
	miraCentreDins:function(x,y){
		var x0=0.1087; //0.7525
		var y0=40.4763; // 40.5263
		var x1=3.33669; // 3.3563
		var y1=42.8855;  // 42.3748
		if(x>=x0&&x<=x1&&y>=y0&&y<=y1){return true;}else{return false;}
	},
	
	miraBBContains:function(MapBounds){
		var cas=0; 
		var vC=CatBounds.intersects(MapBounds);// True es veu Cat
		var nC=CatBounds.contains(MapBounds);//True nomes Cat
		   if(!vC){
			cas=0; //Estic fora de Cat
		   }else if(vC && !nC){ //veig Cat i altres
			cas=1;
		   }else if (vC && nC){ //Nomes veig cat
			cas=2
		   }
		return cas;
	},
	mirarActivarHill:function(hoMiro,zoom,sC){
		
			if((hoMiro)&&(zoom >=14)&&(sC!=0)){
				
				
				jQuery('.bt_hill').prop('disabled',false);
				jQuery('.bt_hill').css('opacity',1);
				
				if(jQuery('.bt_hill').hasClass('div_hill_verd')){
					this.setTransActiveMap(0.62,true);
					
				}
				
							
			}else{
				
				jQuery('.bt_hill').prop('disabled',true);
				jQuery('.bt_hill').css('opacity',0.5);
				this.setTransActiveMap(1,false);
			
			}
				
		
		
	},
	setHillActiu:function(grup,actiu){
		if(actiu){
			
			if(!this.hasLayer(TOPO_OMBRA_L11_19)){
				grup.addLayer(TOPO_OMBRA_L11_19);
			TOPO_OMBRA_L11_19.bringToBack();
			TOPO_OMBRA_L11_19.setOpacity(1);
			}
			
		}else{
			if(TOPO_OMBRA_L11_19){
				
					if(this.hasLayer(TOPO_OMBRA_L11_19)){			
					this.removeLayer(TOPO_OMBRA_L11_19);
					}
			}
		}	
		
		
	},
	setTransActiveMap:function(trans,hillActiu){
		
		var f=this.getActiveMap();
		
		if(f==FONS_TOPOMAP){
			
				_topoLayers.eachLayer(function (layer) {
			    layer.setOpacity(trans);
			});		
		
			this.setHillActiu(_topoLayers,hillActiu);
			
		}else if(f==FONS_TOPOGISMAP){
				_grisLayers.eachLayer(function (layer) {
			    layer.setOpacity(trans);
			});
			this.setHillActiu(_grisLayers,hillActiu);
		}else if(f==FONS_COLORMAP){
			_topoColorLayers.eachLayer(function (layer) {
		    layer.setOpacity(trans);
		    
		});
		
		this.setHillActiu(_topoColorLayers,hillActiu);
		
		}
		
				
		
			
	},
	gestionaFons:function(layerAdd){		
		var sC=this.miraBBContains(this.getBounds());
		var f=this.getActiveMap();
		var zT=8;
				
		if(f==FONS_TOPOMAP){ //_topoLayers=null,TOPO_ICC_L0_6,TOPO_MQ_L7_19,TOPO_ICC_L7_10,TOPO_ICC_L11_19;		
			
			this.mirarActivarHill(true,this.getZoom(),sC);	
			
			
			if((sC==0)){  
				TOPO_MQ_L7_19.setOpacity(1);
				TOPO_MQ_L7_19.options.maxZoom=19;		
				TOPO_ICC_L7_10.options.maxZoom=zT;
				TOPO_ICC_L11_12.options.maxZoom=zT;
				TOPO_ICC_L12_19.options.maxZoom=zT;
				if(this.getZoom() > 6){
					this.attributionControl.setPrefix(MQ_ATTR +" ZL:"+this.getZoom());
					//TOPO_ICC_L0_6
					_topoLayers.removeLayer(TOPO_ICC_L0_6);
				}else{
					this.attributionControl.setPrefix(ICGC_MON +" ZL:"+this.getZoom());
					_topoLayers.addLayer(TOPO_ICC_L0_6);
				}			
			}else if(sC==1){
				
				TOPO_MQ_L7_19.setOpacity(1);
				TOPO_MQ_L7_19.options.maxZoom=19;				
				TOPO_ICC_L11_12.options.maxZoom=12;
				TOPO_ICC_L12_19.options.maxZoom=19;
				TOPO_ICC_L7_10.options.maxZoom=10;					
				if(this.getZoom() > 6){
					this.attributionControl.setPrefix(ICGC+ " - "+MQ_ATTR +" ZL:"+this.getZoom());	
					_topoLayers.removeLayer(TOPO_ICC_L0_6);
				}else{
					this.attributionControl.setPrefix(ICGC_MON +" ZL:"+this.getZoom());
					_topoLayers.addLayer(TOPO_ICC_L0_6);
				}	
			}else if(sC==2){
				TOPO_MQ_L7_19.options.maxZoom=zT;
				TOPO_ICC_L11_12.options.maxZoom=12;
				TOPO_ICC_L12_19.options.maxZoom=19;
				TOPO_ICC_L7_10.options.maxZoom=10;	
				this.attributionControl.setPrefix(ICGC +" ZL:"+this.getZoom());				
			}
		
		//var _topoLayersGeo=null,TOPO_GEO_MQ_L7_19,TOPO_GEO_ICC_L8_12,TOPO_GEO_ICC_L8_17;	
		}else if(f==FONS_TOPOMAP_GEO){
			
			
			
				this.mirarActivarHill(false,this.getZoom(),sC);	
			
			
			if((sC==0)){  
				TOPO_GEO_MQ_L7_19.setOpacity(1);
				TOPO_GEO_MQ_L7_19.options.maxZoom=18;		
				//TOPO_GEO_ICC_L8_12.options.maxZoom=zT;
				//TOPO_GEO_OMBRA_L8_12.options.maxZoom=zT;
				TOPO_GEO_ICC_L8_17.options.maxZoom=zT;
				if(this.getZoom() > 6){
					this.attributionControl.setPrefix(MQ_ATTR +" ZL:"+this.getZoom());
					//TOPO_ICC_L0_6
					_topoLayersGeo.removeLayer(TOPO_ICC_L0_6_GEO);
				}else{
					this.attributionControl.setPrefix(ICGC_MON +" ZL:"+this.getZoom());
					_topoLayersGeo.addLayer(TOPO_ICC_L0_6_GEO);
				}	
				
			}else if(sC==1){
					
				TOPO_GEO_MQ_L7_19.setOpacity(1);
				TOPO_GEO_MQ_L7_19.options.maxZoom=18;				
				//TOPO_GEO_ICC_L8_12.options.maxZoom=12;
			//	TOPO_GEO_OMBRA_L8_12.options.maxZoom=12;
				TOPO_GEO_ICC_L8_17.options.maxZoom=18;
				
				//TOPO_GEO_ICC_L8_12.setOpacity(1);
				//TOPO_GEO_OMBRA_L8_12.setOpacity(0.1);
				
				if(this.getZoom() > 6){
					this.attributionControl.setPrefix(ICGC+ " - "+MQ_ATTR +" ZL:"+this.getZoom());
					//TOPO_ICC_L0_6
					_topoLayersGeo.removeLayer(TOPO_ICC_L0_6_GEO);
				}else{
					this.attributionControl.setPrefix(ICGC_MON +" ZL:"+this.getZoom());
					_topoLayersGeo.addLayer(TOPO_ICC_L0_6_GEO);
				}
				
				
			}else if(sC==2){
				
				
				
				
				//TOPO_GEO_ICC_L8_12.options.maxZoom=12;
				//TOPO_GEO_OMBRA_L8_12.options.maxZoom=12;
				
				TOPO_GEO_ICC_L8_17.options.maxZoom=18;	
				TOPO_GEO_MQ_L7_19.options.maxZoom=zT;
				this.attributionControl.setPrefix(ICGC +" ZL:"+this.getZoom());	
				
				
				//TOPO_GEO_ICC_L8_12.setOpacity(0.8);
				//TOPO_GEO_OMBRA_L8_12.setOpacity(1);
				
				
			}
		
			
			
			
			
		}else if(f==FONS_ORTOMAP){
			this.mirarActivarHill(false,this.getZoom(),sC);	
			if((sC==0)){ //Fora Cat
					ORTO_ESRI_L0_19.options.maxZoom=19;			 
					ORTO_ICC_L0_11.options.maxZoom=zT;
					ORTO_ICC_L12_19.options.maxZoom=zT;
					ORTO_ESRI_L0_19.setOpacity(1);
					this.attributionControl.setPrefix(ESRI_ATTR +" ZL:"+this.getZoom());				
				}else if(sC==1){ //Cat i altres
					ORTO_ESRI_L0_19.options.maxZoom=19;			 
					ORTO_ICC_L0_11.options.maxZoom=11;
					ORTO_ICC_L12_19.options.maxZoom=12;
					ORTO_ESRI_L0_19.setOpacity(0.8);					
					this.attributionControl.setPrefix(ICGC+ ","+ESRI_ATTR +" ZL:"+this.getZoom());	
				}else if(sC==2){ //Nomes cat
					ORTO_ESRI_L0_19.options.maxZoom=zT;			 
					ORTO_ICC_L0_11.options.maxZoom=11;
					ORTO_ICC_L12_19.options.maxZoom=19;			
					this.attributionControl.setPrefix(ICGC +" ZL:"+this.getZoom());				
				}	
		}else if(f==FONS_TERRAINMAP){		
			
			this.mirarActivarHill(false,this.getZoom(),sC);	
			
			if((this.getZoom() > 17)&& (layerAdd)){
				this.setZoom(17);
			}			
			
			if((sC==0)){ //Fora Cat
				ESRI_RELLEU_L0_13.options.maxZoom=13;			 
				ICC_RELLEU_L0_14.options.maxZoom=zT;
				ESRI_RELLEU_L0_13.setOpacity(1);
				this.attributionControl.setPrefix(ESRI_ATTR_TERRAIN +" ZL:"+this.getZoom());				
			}else if(sC==1){ //Cat i altres
				ESRI_RELLEU_L0_13.options.maxZoom=9;			 
				ICC_RELLEU_L0_14.options.maxZoom=16;
				ESRI_RELLEU_L0_13.setOpacity(0.8);					
				this.attributionControl.setPrefix(ICGC+ ","+ESRI_ATTR_TERRAIN +" ZL:"+this.getZoom());	
			}else if(sC==2){ //Nomes cat
				ESRI_RELLEU_L0_13.options.maxZoom=zT;			 
				ICC_RELLEU_L0_14.options.maxZoom=16;					
				this.attributionControl.setPrefix(ICGC +" ZL:"+this.getZoom());				
			}		
		}else if(f==FONS_TOPOGISMAP){
			
			this.mirarActivarHill(true,this.getZoom(),sC);	
			
			if((sC==0)){  
				MQ_TOPO_GRIS_L7_19.setOpacity(1);
				MQ_TOPO_GRIS_L7_19.options.maxZoom=19;
				ICC_TOPO_GRIS_L11_19.options.maxZoom=zT;
				ICC_TOPO_GRIS_L7_10.options.maxZoom=zT;
				if(this.getZoom() <= 6){
					this.attributionControl.setPrefix(MQ_ATTR +" ZL:"+this.getZoom());
					_grisLayers.addLayer(ICC_MON_L0);
				}else{
					this.attributionControl.setPrefix(ICGC_MON +" ZL:"+this.getZoom());
					_grisLayers.removeLayer(ICC_MON_L0);
				}				
			}else if(sC==1){
				MQ_TOPO_GRIS_L7_19.setOpacity(1);
				MQ_TOPO_GRIS_L7_19.options.maxZoom=19;
				ICC_TOPO_GRIS_L11_19.options.maxZoom=19;
				ICC_TOPO_GRIS_L7_10.options.maxZoom=10;	
				this.attributionControl.setPrefix(ICGC+ ","+MQ_ATTR +" ZL:"+this.getZoom());	
			}else if(sC==2){
				MQ_TOPO_GRIS_L7_19.options.maxZoom=zT;
				ICC_TOPO_GRIS_L11_19.options.maxZoom=19;
				ICC_TOPO_GRIS_L7_10.options.maxZoom=10;	
				this.attributionControl.setPrefix(ICGC +" ZL:"+this.getZoom());				
			}
		}else if(f==FONS_COLORMAP){	
			this.mirarActivarHill(true,this.getZoom(),sC);	
			if((sC==0)){  
				COLOR_TOPO_MQ_L7_19.setOpacity(1);
				COLOR_TOPO_MQ_L7_19.options.maxZoom=19;
				COLOR_TOPO_ICC_L11_19.options.maxZoom=zT;
				
				if(this.getZoom() <= 6){
					this.attributionControl.setPrefix(MQ_ATTR +" ZL:"+this.getZoom());
				}else{
					this.attributionControl.setPrefix(ICGC_MON +" ZL:"+this.getZoom());
				}				
			}else if(sC==1){
				COLOR_TOPO_MQ_L7_19.setOpacity(1);
				COLOR_TOPO_MQ_L7_19.options.maxZoom=19;
				COLOR_TOPO_ICC_L11_19.options.maxZoom=19;				
				this.attributionControl.setPrefix(ICGC+ ","+MQ_ATTR +" ZL:"+this.getZoom());	
			}else if(sC==2){
				COLOR_TOPO_MQ_L7_19.options.maxZoom=zT;
				COLOR_TOPO_ICC_L11_19.options.maxZoom=19;			
				this.attributionControl.setPrefix(ICGC +" ZL:"+this.getZoom());				
			}		
		}else if(f==FONS_HISTORICMAP){	
			this.mirarActivarHill(false,this.getZoom(),sC);	
			if(this.getZoom() > 14){
				map.setZoom(14);
			}
			this.attributionControl.setPrefix(ICGC_HISTO +" ZL:"+this.getZoom());
			if((sC==0)){				
				this.fitBounds(CatBounds);
			}
		}else if(f==FONS_HISTORICORTOMAP){		
			this.mirarActivarHill(false,this.getZoom(),sC);	
			this.attributionControl.setPrefix(ICGC_HISTOOrto +" ZL:"+this.getZoom());
			if((sC==0)){			
				this.fitBounds(CatBounds);
			}
		}else{
		
		}
	},
	
	topoMap: function (print){	
		this.deletePreviousMap();
		this.options.typeMap=FONS_TOPOMAP;
		this.options.maxZoom=19;
		this.setActiveMap(FONS_TOPOMAP);
		this.setMapColor(null);
		_topoLayers=L.layerGroup();						 
		TOPO_ICC_L0_6=  new L.TileLayer(URL_MON, {
			minZoom: 0,
			maxZoom: 6,
			tms:true,
			continuousWorld: false,
			worldCopyJump: false,
		}).addTo(_topoLayers);
		TOPO_MQ_L7_19 =new L.TileLayer(URL_MQ,{   	   
			minZoom: 7,
			maxZoom:19,
			subdomains:subDomains}
		).addTo(_topoLayers);
		if(print){
			TOPO_ICC_L7_10 = new L.TileLayer(URL_TOPOICC,{  	    
				tms:false,
				minZoom: 7,

				maxZoom: 10,	                                                        
				boundary: catContorn, 
				continuousWorld: true,
				worldCopyJump: false
			}).addTo(_topoLayers);	
		 
			TOPO_ICC_L11_12 = new L.TileLayer(URL_TOPOICC,{  	    
				tms:false,
				minZoom: 11,
				maxZoom: 12,	                                                        
				boundary: catContorn, 
				continuousWorld: true,
				worldCopyJump: false
			}).addTo(_topoLayers);
		
		}else{ //no es true
			
			TOPO_ICC_L7_10 = new L.TileLayer.boundaryCanvas(URL_TOPOICC,{  	    
				tms:false,
				minZoom: 7,
				maxZoom: 10,	                                                        
				boundary: catContorn, 
				continuousWorld: true,
				worldCopyJump: false
			}).addTo(_topoLayers);	

		 
			TOPO_ICC_L11_12 = new L.TileLayer.boundaryCanvas(URL_TOPOICC,{  	    
				tms:false,
				minZoom: 11,

				maxZoom: 12,	                                                        
				boundary: catContorn, 
				continuousWorld: true,
				worldCopyJump: false
			}).addTo(_topoLayers);
			
		}
		
		TOPO_ICC_L12_19 = new L.TileLayer(URL_TOPOICC,{  	    
			tms:false,
			minZoom: 13,
			maxZoom: 19,	                                                        
			continuousWorld: true,
			worldCopyJump: false
		}).addTo(_topoLayers);
		this.addLayer(_topoLayers,true);
	},
	
	
	
	topoMapGeo: function (){	
		this.deletePreviousMap();
		this.options.typeMap=FONS_TOPOMAP_GEO;
		this.options.maxZoom=18;
		this.setActiveMap(FONS_TOPOMAP_GEO);
		this.setMapColor(null);
		_topoLayersGeo=L.layerGroup();						 
		
		
		TOPO_ICC_L0_6_GEO=  new L.TileLayer(URL_MON, {
			minZoom: 0,
			maxZoom: 6,
			tms:true,
			continuousWorld: false,
			worldCopyJump: false,
		}).addTo(_topoLayersGeo);
		
		
		
		
		TOPO_GEO_MQ_L7_19 = new L.TileLayer(URL_MQ,{   	   
			minZoom: 7,
			maxZoom:18,
			
			subdomains:subDomains}
		).addTo(_topoLayersGeo);
		

		
		TOPO_GEO_ICC_L8_17 = new L.TileLayer(URL_TOPOICC_GEO_1,{  	    
			tms:true,
			continuousWorld: true,
			worldCopyJump: false,
			minZoom: 8,
			maxZoom: 18	                                                        
			
		}).addTo(_topoLayersGeo);
		this.addLayer(_topoLayersGeo,true);
	},
	
	
	
	
	ortoMap: function (print){
		this.deletePreviousMap();	
		this.options.maxZoom=19;
		this.setActiveMap(FONS_ORTOMAP);
		this.setMapColor(null);
		this.options.typeMap=FONS_ORTOMAP;
		_ortoLayers=L.layerGroup();	
		  
		ORTO_ESRI_L0_19 = new L.TileLayer(URL_ESRI,{   	   
		   minZoom: 0,
		   maxZoom:19}
		).addTo(_ortoLayers);

if(print){
			ORTO_ICC_L0_11 = new L.TileLayer(URL_ORTOICC,{  	    
				tms:false,
				minZoom: 0,
				maxZoom: 11,	                                                        
				boundary: catContorn5k, 
				continuousWorld: true,
				worldCopyJump: false
			}).addTo(_ortoLayers);
		}else{
			ORTO_ICC_L0_11 = new L.TileLayer.boundaryCanvas(URL_ORTOICC,{  	    
				tms:false,
				minZoom: 0,

				maxZoom: 11,	                                                        
				boundary: catContorn5k, 
				continuousWorld: true,
				worldCopyJump: false
			}).addTo(_ortoLayers);

			
			
		}
		ORTO_ICC_L12_19 = new L.TileLayer(URL_ORTOICC,{  	    
			tms:false,
			minZoom: 12,
			maxZoom: 19,	                                                        
			boundary: catContorn5k, 
			continuousWorld: true,
			worldCopyJump: false
		}).addTo(_ortoLayers);
			
		this.addLayer(_ortoLayers,true);
	
	},
	
	terrainMap: function (){
		this.deletePreviousMap();	
		this.options.maxZoom=16;
		this.setActiveMap(FONS_TERRAINMAP);
		this.setMapColor(null);
		_terrainLayers=L.layerGroup();	
	
		ESRI_RELLEU_L0_13 =new L.TileLayer(URL_ESRI_T,{   	   
			minZoom: 0,
			maxZoom:9}
		).addTo(_terrainLayers);
			  
		ICC_RELLEU_L0_14= new L.TileLayer(URL_TERRAIN, {
		   minZoom: 0,
		   maxZoom: 16,
		   tms:true,
		   continuousWorld: true,
		   worldCopyJump: false,
		}).addTo(_terrainLayers);
		
		this.addLayer(_terrainLayers,true);
	},
		
	topoGrisMap: function (print){
		this.deletePreviousMap();
		this.options.maxZoom=19;
		this.setActiveMap(FONS_TOPOGISMAP);
		this.setMapColor(null);
		_grisLayers=L.layerGroup();				
			 		  
		ICC_MON_L0= new L.IM_ColorLayer(URL_MON, {
			minZoom: 0,
			maxZoom: 6,
			tms:true,
			color:'gris',
			continuousWorld: true,
			worldCopyJump: false,
		}).addTo(_grisLayers);

		MQ_TOPO_GRIS_L7_19 =new L.IM_ColorLayer(URL_MQ,{   	   
			minZoom: 7,
			maxZoom:19,
			color:'gris',
			subdomains:subDomains
		}).addTo(_grisLayers);
			
		if(print){
				ICC_TOPO_GRIS_L7_10 = new L.TileLayer(URL_TOPOGRIS,{  	    
					tms:false,
					minZoom: 7,
					maxZoom: 10,	                                                        
					//boundary: catContorn, 
					continuousWorld: true,
					worldCopyJump: false
				}).addTo(_grisLayers);	
				
			}else{
				ICC_TOPO_GRIS_L7_10 = new L.TileLayer.boundaryCanvas(URL_TOPOGRIS,{  	    
					tms:false,
					minZoom: 7,
					maxZoom: 10,	                                                        
					boundary: catContorn, 
					continuousWorld: true,
					worldCopyJump: false
				}).addTo(_grisLayers);
			}
		ICC_TOPO_GRIS_L11_19 = new L.TileLayer(URL_TOPOGRIS,{  	    
			tms:false,
			minZoom: 11,
			maxZoom: 19,	                                                        
			// boundary: catContorn5k, 
			continuousWorld: true,
			worldCopyJump: false
		}).addTo(_grisLayers);
			
		//_grisLayers.addTo(this);
	
		this.addLayer(_grisLayers,true);
	},
	
	colorMap: function (color){
		//this.options.maxZoom=19;	
		this.options.maxZoom=19;
		this.deletePreviousMap();	
		this.setActiveMap(FONS_COLORMAP);
		this.setMapColor(color);
		_topoColorLayers=L.layerGroup();	
	
		COLOR_TOPO_ICC_L0_6= new L.IM_ColorLayer(URL_MON, {
			minZoom: 0,
			maxZoom: 6,
			tms:true,
			continuousWorld: true,
			worldCopyJump: false,
			color:color
		}).addTo(_topoColorLayers);
			 
		COLOR_TOPO_MQ_L7_19 =new L.IM_ColorLayer(URL_MQ,{   	   
			minZoom: 7,
			maxZoom:19,
			color:color,
			subdomains:subDomains
		}).addTo(_topoColorLayers);
			   
		COLOR_TOPO_ICC_L11_19= new L.IM_ColorLayer(URL_TOPOCOLOR, {
			minZoom: 7,
			maxZoom: 19,
			tms:true,
			continuousWorld: true,
			worldCopyJump: false,
			color:color
		}).addTo(_topoColorLayers);
		
		this.addLayer(_topoColorLayers,true);
	},
	
	historicMap:function(){
		this.deletePreviousMap();	
		this.setActiveMap(FONS_HISTORICMAP);
		this.setMapColor(null);
		this.options.typeMap=FONS_HISTORICMAP;
		this.options.maxZoom=14;
		_histoMap=L.layerGroup();
		
		HISTO_ICC_L0_14= new L.TileLayer(URL_HISTORIC, {
			minZoom: 0, 
			maxZoom: 14, 
			tms:true, 
			continuousWorld: true,
			worldCopyJump:false, 
		}).addTo(_histoMap);
		
		this.addLayer(_histoMap,true);
		
	},
	
	historicOrtoMap:function(){
		this.deletePreviousMap();	
		this.setActiveMap(FONS_HISTORICORTOMAP);
		this.setMapColor(null);
		this.options.typeMap=FONS_HISTORICORTOMAP;
		
		//this.options.maxZoom=14;
		_histoOrtoMap=L.layerGroup();
		
		HISTOOrto_ICC_L0_14= new L.tileLayer.wms(URL_HISTORICOrto, {
			layers: 'ovab5m',
			format: 'image/png',
			transparent: true,
			exceptions:'application/vnd.ogc.se_xml'
		}).addTo(_histoOrtoMap);
		
		this.addLayer(_histoOrtoMap,true);
		
	},
	
	rmCapa: function (grup,layer){
	
		if(grup.hasLayer(layer)){grup.removeLayer(layer);return}
	
	},
	
	addCapa: function (grup,layer){
	
		if(!grup.hasLayer(layer)){grup.addLayer(layer,true);return}
	
	},
	
	deletePreviousMap: function () {
	
		if(this.hasLayer(_topoLayers)){this.removeLayer(_topoLayers);return}
		else if(this.hasLayer(_topoLayersGeo)){this.removeLayer(_topoLayersGeo);return}
		else if(this.hasLayer(_ortoLayers)){this.removeLayer(_ortoLayers);return}
		else if(this.hasLayer(_terrainLayers)){this.removeLayer(_terrainLayers);return}
		else if(this.hasLayer(_topoColorLayers)){this.removeLayer(_topoColorLayers);return}
		else if(this.hasLayer(_grisLayers)){this.removeLayer(_grisLayers);return}
		else if(this.hasLayer(_histoMap)){this.removeLayer(_histoMap);return}
		else if(this.hasLayer(_histoOrtoMap)){this.removeLayer(_histoOrtoMap);return}
	}
	//fi default metode
});

//L.LayerGroup.include({
//
//	toGeoJSONcustom: function () {
//
//		var geometry = this.feature && this.feature.geometry,
//			jsons = [],
//			json;
//
//		if (geometry && geometry.type === 'MultiPoint') {
//			return multiToGeoJSON('MultiPoint').call(this);
//		}
//
//		var isGeometryCollection = geometry && geometry.type === 'GeometryCollection';
//
//		this.eachLayer(function (layer) {
//			if (layer.toGeoJSON) {
//				json = layer.toGeoJSON();
//				//Custom: que no es perdin les propietats del feature
//				if(jQuery.isEmptyObject(json.properties)){
//					if(layer.properties.nom) json.properties.name = layer.properties.nom;
//					if(layer.properties.data){
//						jQuery.each(layer.properties.data, function(key, value){
//							if(key.indexOf("slot")==-1 && key.indexOf("businessId")==-1){
//								json.properties[''+key+''] = value;
//							}
//						});
//					}
//				}
//				if(jQuery.isEmptyObject(json.styles)){
//					json.styles=layer.options;
//				}
//				
//				jsons.push(isGeometryCollection ? json.geometry : L.GeoJSON.asFeature(json));
//			}
//		});
//
//		if (isGeometryCollection) {
//			return L.GeoJSON.getFeature(this, {
//				geometries: jsons,
//				type: 'GeometryCollection'
//			});
//		}
//
//		return {
//			type: 'FeatureCollection',
//			features: jsons
//		};
//
//	}
//});
