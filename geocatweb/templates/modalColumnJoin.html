<!-- Modal Column Join -->
<div class="modal fade" id="dialog_column_join">
	<div class="modal-dialog">
		<div class="modal-content panel-primary">
			<div class="modal-header panel-heading">
				<button class="close" aria-hidden="true" data-dismiss="modal" type="button">x</button>
				<h4 class="modal-title">
					<span lang="ca">Unió per columna</span>
					<span><a class="faqs_link"
						href="http://betaportal.icgc.cat/wordpress/faq-dinstamaps/#operacionsgeo"
						target="_blank"><i class="fa fa-question-circle-o fa-lg fa-fw"></i></a></span>
				</h4>
			</div>
			<div class="modal-body" style="max-height:620px;">
				<div class="alert alert-success">
					<span lang="ca">Aquesta operació combina els registres de dues taules en una de sola a partir dels valors coincidents d'una columna comuna.</span>
					<span lang="ca">Aplicable a punts, línies o polígons.</span><br/><br/>
					<div class="imagePeu">
						<img src="css/images/Column_join_1.png" class="img1">
						<span class="peu" lang="ca">Taules d'origen</span>
						<img src="css/images/Column_join_2.png">
						<span class="peu2" lang="ca">Resultat de l'operació</span>
					</div>
					<div style="margin-top:30px;margin-bottom:-20px;">	
						<span class="glyphicon glyphicon-info-sign"></span>&nbsp;<span lang="ca">Aquesta operació està disponible per capes dibuixades o creades a partir de fitxers de menys de 50Mb.</span>
						<br/><br/>
			 		</div>
		   		</div>
				<div id="warning-spatial"></div>
				<div id="list-layers-join1">
					<span class="ca">1. Selecciona les capes a unir:</span>
					<div class="labels_fields" style="margin-left:15px;">
						<span lang="ca">Capa1</span>:<span lang="ca" style="margin-left:31%">Capa2</span>:<br/>
						<select name="dataField_capa1" id="dataField_capa1" style="width: 30%;">
							<option value="null">Escull la capa</option>
						</select>
						<select name="dataField_capa2" id="dataField_capa2" style="margin-left:8%;width:30%;">
							<option value="null">Escull la capa</option>
						</select>
						<br/><span lang="ca" style="width: 30%;"><input type="radio" value="capa1_geom" name="geom_capa" checked>Usa com a capa de geometries</span>
						<span lang="ca" style="margin-left:4.5%;width: 30%;"><input type="radio" value="capa2_geom" name="geom_capa">Usa com a capa de geometries</span>
						<script id="tematic-layers1" type="text/x-handlebars-template">
							{{#each layers}}
								<option value="{{layer.options.businessId}}___{{layer.options.propName}}">{{name}}</option>
							{{/each}}
						</script>	
						<script id="tematic-layers2" type="text/x-handlebars-template">
							{{#each layers}}
								<option value="{{layer.options.businessId}}___{{layer.options.propName}}">{{name}}</option>
							{{/each}}
						</script>		
						<br/><br/>
									
					</div>
				</div>
				<div id="list-layers-join11">
				<span class="ca">2. Escull els valors a retornar:</span>					
					<div style="margin-left:15px;">
						<input type="radio" value="coincidents" name="valorsUnio" checked/>Nom&eacute;s valors coincidents&nbsp;&nbsp;
						<input type="radio" value="tots" name="valorsUnio"/>Tots els valors<br/>
					</div>
					<br/>					
				</div>
				<div id="list-fields-join2">
					<span class="ca">3. Selecciona els camps a combinar:</span>
					<div class="labels_fields" style="margin-left:15px;">
						<span lang="ca">Camps de la capa1</span>:<span lang="ca" style="margin-left:20%">Camps de la capa2</span>:<br/>
						<select name="dataField_camps_capa1" id="dataField_camps_capa1" style="width: 30%;">
						</select>
						<select name="dataField_camps_capa2" id="dataField_camps_capa2" style="margin-left:8%;width:30%;">
						</select>
						<script id="tematic-camp-layers1" type="text/x-handlebars-template">
							{{#each fields}}
								<option value="{{this}}" >{{@key}}</option>
							{{/each}}
						</script>	
						<script id="tematic-camp-layers2" type="text/x-handlebars-template">
							{{#each fields}}
								<option value="{{this}}" >{{@key}}</option>
							{{/each}}
						</script>
						<br/><br/>
					</div>
				</div>
				<div id="list-fields-join3">
					<span class="ca">4. Selecciona el nom i els camps que apareixeran a la capa resultant</span>:
					<div class="input-group input-group-sm" style="margin-left:15px;">
						<span class="input-group-addon" lang="ca">Nom capa resultant</span>
						<input id="input-join-name" class="form-control" type="text" style="width:260px">
					</div>
					<br/>
					<div style="margin-left:15px;">
						<div id="list_join_fields" style="float:left;width:30%;max-height:90px;overflow-x:hidden;overflow-y:auto;"></div>
						<div id="list_join_fields2" style="float:left;margin-left:50px;width:30%;max-height:90px;overflow-x:hidden;overflow-y:auto;"></div>
					</div>							
					<script id="join-fields-template" type="text/x-handlebars-template">
						{{#each fields}}
							<input type="checkbox" value="{{@key}}" name="listCol1" checked/>&nbsp;&nbsp;{{@key}}<br/>
						{{/each}}
					</script>
					<script id="join-fields-template2" type="text/x-handlebars-template">
						{{#each fields}}
							<input type="checkbox" value="{{@key}}" name="listCol2" checked/>&nbsp;&nbsp;{{@key}}<br/>
						{{/each}}
					</script>
					<br/>
				</div>
			</div>		
			<br/>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" lang="ca">Tancar</button>
        		<button type="button" class="btn btn-success" lang="ca" id="joinBtn">Unió per columna</button>
			</div>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<!-- fi Modal Column Join -->